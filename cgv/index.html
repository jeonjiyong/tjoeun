<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CGV</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/cgv.css">
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      $(function(){
        //배너닫기
        $('#top-banner button').click(function(){
          //슬라이드업 처리 된 다음 제거하기
          $('#top-banner').slideUp(function(){
            $(this).remove();
          })
        })

        //슬라이드 페이드
        //슬라이드 이미지의 수
        var imgLength=$('.slide-image li').length;
        console.log('슬라이드 이미지 수',imgLength);
        //현재 이미지의 인덱스
        var i=$('.slide-image li.on').index();
        console.log('현재 이미지 인덱스',i);

        //페이지네이션 생성
        for(var j=0; j<imgLength; j++){
          $('.pagination').append('<li><a href="#"><span class="skip">'+(j+1)+'</span></a></li>');
        }
        $('.pagination li:nth-child(1) a').addClass('on');

        //이전버튼을 클릭했을 때
        $('.prev').click(function(){
          if(i==0){
            i=imgLength-1;//최대 인덱스 값으로 변경
          }else{
            i--;//1씩 감소
          }
          console.log('이전버튼',i);

          //함수호출
          showSlide();
        })

        //다음버튼을 클릭했을 때
        $('.next').click(function(){
          if(i==imgLength-1){
            i=0;//최소 인덱스 값으로 변경
          }else{
            i++;//1씩 증가
          }
          console.log('다음버튼',i);

          //함수호출
          showSlide();
        })

        //페이지네이션 클릭했을 때
        $('.pagination a').click(function(e){
          e.preventDefault();//스크롤 위로 가는거 방지
          var index=$(this).parent().index();//a의 상위부모인 li의 위치값
          console.log('페이지네이션',index);
          i=index;//새로구한 인덱스값을 i의 값에 저장
          //함수호출
          showSlide();
        })

        //중복되는 코드 함수처리
        function showSlide(){
          //페이지네이션 변경
          $('.pagination a').removeClass('on');
          $('.pagination li').eq(i).find('a').addClass('on');
          //이미지 변경
          $('.slide-image li').removeClass('on').fadeOut();
          $('.slide-image li').eq(i).addClass('on').fadeIn();
        }

      })
    </script>
  </head>
  <body>
    <div id="top-banner">
      <div class="center">
        <a href="#">
          <img src="images/top_banner.jpg" alt="쥬만지 영화정보 바로가기">
        </a>
        <button>
          <i class="fa fa-times" aria-hidden="true"></i>
          <span class="skip">배너닫기</span>
        </button>
      </div>
    </div>
    <!-- top-banner end -->

    <div id="header">
      <div class="center">
        <div class="sub-nav">
          <a href="#">로그인</a>
          <a href="#">회원가입</a>
        </div>
        <div class="gnb-nav">
          <h1><img src="images/cgv.png" alt="cgv로고"></h1>
          <h2><img src="images/cultureplex.png" alt="cultureplex"></h2>
          <nav>
            <!-- ul>li*4>a[href=#] -->
            <ul>
              <li><a href="#">영화</a></li>
              <li><a href="#">예매</a></li>
              <li><a href="#">극장</a></li>
              <li><a href="#">이벤트&amp;컬처</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <!-- header end -->

    <div id="container">
      <section class="ad">
        <div class="center">
          <h2 class="skip">메인광고</h2>
          <article class="search">
            <label for="search" class="skip">영화검색</label>
            <input type="text" placeholder="영화제목을 입력하세요." id="search">
            <button>검색</button>
          </article>
          <article class="slide">
            <!-- ul>li*3>img -->
            <ul class="slide-image">
              <li class="on" style="display:block;"><a href="#"><img src="images/slide1.jpg" alt="let's play at cgv"></a></li>
              <li><a href="#"><img src="images/slide2.jpg" alt="이달의 cgv"></a></li>
              <li><a href="#"><img src="images/slide3.jpg" alt="2018 cgv calendar"></a></li>
            </ul>
            <!-- ul>li*3>a[href=#]>span[class=skip]{$} -->
            <ul class="pagination">
              <!-- <li><a href="#" class="on"><span class="skip">1</span></a></li>
              <li><a href="#"><span class="skip">2</span></a></li>
              <li><a href="#"><span class="skip">3</span></a></li>
              <li><a href="#"><span class="skip">4</span></a></li>
              <li><a href="#"><span class="skip">5</span></a></li>
              <li><a href="#"><span class="skip">6</span></a></li> -->
            </ul>
            <button class="prev">
              <i class="fa fa-chevron-left" aria-hidden="true"></i>
              <span class="skip">이전</span>
            </button>
            <button class="next">
              <i class="fa fa-chevron-right" aria-hidden="true"></i>
              <span class="skip">다음</span>
            </button>
          </article>
        </div>
      </section>

      <article class="movie-selection center">
        <h2><img src="images/h3_movie_selection.gif" alt="movie selection"></h2>
        <ul>
          <li><iframe width="733" height="388" src="https://www.youtube.com/embed/CFZdV5o8WTU?autoplay=1" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe></li>
          <li><a href="#"><img src="images/banner5.jpg" alt="코코"></a></li>
        </ul>
      </article>
      <article class="event center">
        <h2><img src="images/h3_event.gif" alt="event"></h2>
        <!-- ul>li*4>a[href=#]>img -->
        <ul>
          <li><a href="#"><img src="images/banner1.jpg" alt="이달의 cgv"></a></li>
          <li><a href="#"><img src="images/banner2.jpg" alt="1318클럽 감동 어드벤처 시사회"></a></li>
          <li><a href="#"><img src="images/banner3.jpg" alt="new year 기획상품 출시"></a></li>
          <li><a href="#"><img src="images/banner4.jpg" alt="나를 바꾸는 글쓰기"></a></li>
        </ul>

      </article>
    </div>
    <!-- container end -->

    <div id="footer">
      <div class="center">
        <!-- ul>li*5>a[href=#] -->
        <ul>
          <li><a href="#">회사소개</a></li>
          <li><a href="#">IR</a></li>
          <li><a href="#">채용정보</a></li>
          <li><a href="#">광고문의</a></li>
          <li><a href="#">이용약관</a></li>
        </ul>
        <div class="box">
          <h1><span class="skip">cgv로고</span></h1>
          <p class="info">
            (04377)서울특별시 용산구 한강대로 23길 55, 아이파크몰 6층(한강로동)<br>
            대표이사 : 서정 | 사업자등록번호 : 104-81-45690 | 통신판매업신고번호 : 2017-서울용산-0662<br>
            개인정보보호 책임자 : 마케팅 담당 정종민대표 | 이메일 : cjcgvmaster@cj.net | CGV고객센터 : 1544-1122
          </p>
          <small>copyright &copy; 2016 CJ CGV. All Rights Reserved</small>
        </div>
      </div>
    </div>
    <!-- footer end -->
  </body>
</html>
